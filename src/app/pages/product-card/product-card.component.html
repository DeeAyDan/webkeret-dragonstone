<div class="product-card" (click)="onClick()">
  <img loading="lazy" [src]="product.images[0]" [alt]="product.name" />
  <div class="product-name">{{ product.name }}</div>
  <div class="price-container">
    <div>
      <p [ngStyle]="{ 
          'color': product.onSale ? 'red' : 'inherit',
          'text-decoration': product.onSale ? 'line-through' : 'normal',
          'font-size': product.onSale ? '0.8em' : '1em',
          'display': product.onSale ? 'inline' : 'block',
        }" class="price">{{product.price | formatPrice}}</p>
      @if (product.onSale) {
        <p class="sale-price">
        {{product.price * (product.discount ?? 1) | formatPrice}}</p>
      }
    </div>
    <p class="rating"> {{ averageRating ? averageRating + ' / 5' : '' }}</p>
  </div>
</div>